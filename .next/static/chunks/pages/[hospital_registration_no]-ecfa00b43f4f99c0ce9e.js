(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[246],{153:function(e,a,t){"use strict";var n,s=t(168),o=t(6312),i=t(6573),l=t.n(i),d=t(5893);a.Z=function(){return(0,d.jsx)("div",{className:"d-flex xd",style:{position:"fixed",height:"100vh",width:"100vw",background:"linear-gradient(0deg, rgba(72,216,217,0.7) 0%, rgba(52,58,64,0.9) 96%)",zIndex:1100,backdropFilter:"blur(3px)"},children:(0,d.jsx)(l(),{css:(0,o.css)(n||(n=(0,s.Z)(["\n\t\t\t\t\tmargin: auto auto;\n\t\t\t\t"]))),speedMultiplier:2,color:"white"})})}},4235:function(e,a,t){"use strict";t.r(a),t.d(a,{__N_SSP:function(){return f}});var n=t(5861),s=t(7757),o=t.n(s),i=t(385),l=t(5675),d=t(9008),r=t(7294),c=t(9755),m=t.n(c),u=t(1163),h=t(4598),p=t(5835),b=t(153),g=t(227),x=t(5893),f=!0;a.default=function(e){var a=e.hospitalInfo,t=JSON.parse(a),s=(0,r.useState)(!1),c=s[0],f=s[1],j=t.address.latitude&&t.address.longitude?"https://www.google.com/maps/embed/v1/place?key=AIzaSyChJhm4z9IojHLRs2YLnfjrpBixXKy8iPU&q="+t.address.latitude+","+t.address.longitude+"&zoom=16":"https://www.google.com/maps/embed/v1/place?key=AIzaSyChJhm4z9IojHLRs2YLnfjrpBixXKy8iPU&q="+t.hospital_name.replace(/ /g,"+")+"&zoom=16",v=(0,r.useState)(j),N=v[0],k=v[1],_=(0,r.useState)(!0),y=_[0],w=_[1],S=(0,r.useState)(null),C=S[0],F=S[1],z=(0,r.useContext)(g.S).userContext;return console.log(t.address,j),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(d.default,{children:(0,x.jsx)("title",{children:t.hospital_name+" | Quick Hospitalization"})}),z?(0,x.jsx)("section",{className:"modal fade",id:"bookingModal",tabIndex:-1,"data-bs-backdrop":!1,"data-bs-keyboard":"false",children:(0,x.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:(0,x.jsxs)("div",{className:"modal-content",style:{backgroundColor:"rgba(256, 256, 256, 0.85)",backdropFilter:"blur(8px)"},children:[(0,x.jsxs)("div",{className:"modal-header py-1",children:[(0,x.jsx)("h5",{className:"modal-title",children:"Booking"}),(0,x.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,x.jsx)("div",{className:"modal-body",children:(0,x.jsx)("form",{className:"appointment-form container",onSubmit:function(e){e.stopPropagation(),e.preventDefault()},children:(0,x.jsx)("fieldset",{children:(0,x.jsxs)("div",{className:"row g-2",children:[(0,x.jsx)("div",{className:"col-lg",children:(0,x.jsxs)("div",{className:"form-floating",children:[(0,x.jsx)("select",{className:"form-select",id:"bookingFor",onInput:function(e){e.target.value==i.booking_booked_for.Self?(w(!0),m()("#patientName").val(z.name),m()("#patientSex").val(z.sex)):(w(!1),m()("#patientName").val(""),m()("#patientSex").val("null"))},required:!0,children:Object.keys(i.booking_booked_for).map((function(e,a){return(0,x.jsx)("option",{value:i.booking_booked_for[e],children:i.booking_booked_for[e]},a)}))}),(0,x.jsx)("label",{htmlFor:"bookingFor",children:"Booking For"})]})}),(0,x.jsx)("div",{className:"col-lg-5",children:(0,x.jsxs)("div",{className:"form-floating",children:[(0,x.jsx)("input",{type:"text",className:"form-control",id:"patientName",placeholder:"Patient's Name",defaultValue:y?z.name:"",disabled:!!y,readOnly:!!y,required:!0}),(0,x.jsx)("label",{htmlFor:"patientName",children:"Name"}),(0,x.jsx)("small",{className:"ml-1 text-danger invalid-feedback"})]})}),(0,x.jsx)("div",{className:"col-lg",children:(0,x.jsxs)("div",{className:"form-floating",children:[(0,x.jsxs)("select",{className:"form-select",id:"patientSex",defaultValue:z.sex,disabled:!!y,required:!0,children:[(0,x.jsx)("option",{value:"null",hidden:!0,children:"Select Gender..."}),Object.keys(i.booking_sex).map((function(e,a){return(0,x.jsx)("option",{value:e,children:h.Sex[e]},a)}))]}),(0,x.jsx)("label",{htmlFor:"patientSex",children:"Sex"}),(0,x.jsx)("small",{className:"ml-1 text-danger invalid-feedback"})]})})]})})})}),(0,x.jsx)("div",{className:"modal-footer py-1",children:(0,x.jsx)("button",{type:"button",className:"btn btn-sm btn-primary",onClick:(0,n.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,fetch("/api/registerbooking",{method:"POST",body:JSON.stringify({id:"b"+p.randomBytes(5).toString("hex").toUpperCase().substring(0,9),user_mobile_no:z.mobile_no,name:m()("#patientName").val(),sex:m()("#patientSex").val(),bed_type:C,booked_for:m()("#bookingFor").val(),registration_no:t.registration_no,status:"Requested"}),headers:{"content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){f(!1),u.default.push("/booking?id=".concat(e.id),"/booking")})).catch((function(e){return console.error(e)}));case 3:f(!1);case 4:case"end":return e.stop()}}),e)}))),children:"Confirm Booking"})})]})})}):null,c?(0,x.jsx)(b.Z,{}):null,(0,x.jsxs)("main",{className:"container",children:[(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-12 col-md-5",children:(0,x.jsx)(l.default,{src:"/media/hospital-building-2.jpg",width:"390",height:"220",layout:"responsive",priority:!0})}),(0,x.jsxs)("div",{className:"col-12 col-md-7",children:[(0,x.jsx)("h3",{children:t.hospital_name}),(0,x.jsxs)("div",{className:"mt-4 d-grid gap-2",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("span",{className:"fw-light h5 me-2","data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:"Type",children:(0,x.jsx)("i",{className:"bi bi-info-lg"})}),(0,x.jsx)("span",{className:"text-secondary",children:t.hospital_type})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("span",{className:"fw-light h6 me-2","data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:"Address",children:(0,x.jsx)("i",{className:"bi bi-geo-alt-fill"})}),(0,x.jsx)("span",{className:"text-secondary",children:"".concat(t.address.street_address,", ").concat(t.address.district,", ").concat(t.address.division)})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("span",{className:"fw-light h6 me-2","data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:"Contacts",children:(0,x.jsx)("i",{className:"bi bi-telephone-fill"})}),(0,x.jsx)("span",{className:"text-secondary",children:null==t.address.phone_no?t.address.mobile_no:null==t.address.mobile_no?t.address.phone_no:"".concat(t.address.mobile_no,", ").concat(t.address.phone_no)})]})]})]})]}),(0,x.jsxs)("div",{className:"mt-4",children:[(0,x.jsx)("h4",{children:"Book now"}),(0,x.jsx)("div",{className:"mt-2 mx-0 row row-cols-2 row-cols-md-3 row-cols-lg-4",children:["ward","special_ward","cabin","vip_cabin","icu","ccu","hdu","hfncu","emergency","covidu","extra"].map((function(e,a){return null==t.vacant_bed_log[e]?null:(0,x.jsx)("div",{className:"\r d-flex\r justify-content-center\r align-items-center\r col\r p-1\r ",children:(0,x.jsxs)("button",{className:t.vacant_bed_log[e]<=5?0==t.vacant_bed_log[e]?"btn btn-outline-danger w-100 disabled":"btn btn-outline-warning text-dark w-100":"btn btn-outline-primary w-100","data-bs-toggle":z?"modal":null,"data-bs-target":z?"#bookingModal":null,onClick:function(){z?F(h.BedTypes[e]):u.default.push("".concat(h.Links.App.login,"?redirect=").concat(u.default.asPath),h.Links.App.login)},children:[e.replace("_"," ").toUpperCase(),(0,x.jsx)("span",{className:"d-block",children:t.vacant_bed_log[e]})]})},a)}))})]}),(0,x.jsxs)("div",{className:"mt-4 shadow rounded bg-white",children:[(0,x.jsxs)("nav",{className:"position-relative",children:[(0,x.jsxs)("div",{className:"nav nav-tabs justify-content-start justify-content-md-center",id:"nav-tab",role:"tablist",children:[(0,x.jsx)("a",{className:"nav-link border-0 mb-0 active","data-bs-toggle":"tab",href:"#nav-location",role:"tab","aria-selected":"false",children:"Location"}),(0,x.jsx)("a",{className:"nav-link border-0","data-bs-toggle":"tab",href:"#nav-description",role:"tab","aria-selected":"false",children:"Description"})]}),(0,x.jsxs)("div",{className:"form-check form-switch position-absolute top-0 end-0 ps-0 mt-2 me-2",style:{backgroundColor:"rgba(256, 256, 256, 0.85)",backdropFilter:"blur(8px)"},children:[(0,x.jsx)("input",{className:"form-check-input",type:"checkbox",role:"switch",id:"mode",onChange:function(e){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(a){e.target.checked?k(t.address.latitude&&t.address.longitude?"https://www.google.com/maps/embed/v1/directions?key=AIzaSyChJhm4z9IojHLRs2YLnfjrpBixXKy8iPU&origin="+a.coords.latitude+","+a.coords.longitude+"&destination="+t.address.latitude+","+t.address.longitude+"&mode=driving&units=metric":"https://www.google.com/maps/embed/v1/directions?key=AIzaSyChJhm4z9IojHLRs2YLnfjrpBixXKy8iPU&origin="+a.coords.latitude+","+a.coords.longitude+"&destination="+t.hospital_name.replace(/ /g,"+")+"&mode=driving&units=metric"):k(j)}),(function(e){return m()("#map").html(e.message)})):m()("#map").text("Your browser doesn't support geolocation. Try inputting manually.")}}),(0,x.jsx)("label",{className:"form-check-label font-monospace d-none d-md-inline-block",htmlFor:"mode",children:"Directions Mode"})]})]}),(0,x.jsxs)("div",{className:"tab-content",id:"nav-tabContent",children:[(0,x.jsx)("div",{className:"tab-pane fade active show",id:"nav-location",role:"tabpanel",children:(0,x.jsx)("div",{children:(0,x.jsx)("iframe",{id:"map",width:"100%",height:"450px",frameBorder:0,style:{border:"0"},allowFullScreen:!0,src:N})})}),(0,x.jsx)("div",{className:"tab-pane fade",id:"nav-description",role:"tabpanel",children:(0,x.jsx)("div",{className:"container py-3",children:null==t.description?"Not provided":t.description})})]})]})]})]})}},6767:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[hospital_registration_no]",function(){return t(4235)}])},950:function(){},6601:function(){},9214:function(){},8623:function(){},7748:function(){},5568:function(){},6619:function(){},7108:function(){},2361:function(){},4616:function(){}},function(e){e.O(0,[790,675,385,835,774,888,179],(function(){return a=6767,e(e.s=a);var a}));var a=e.O();_N_E=a}]);