(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{6875:function(e,r,t){"use strict";t.r(r);var n=t(5861),a=t(7757),s=t.n(a),o=t(4598),i=t(1664),c=t(1163),l=t(9755),d=t.n(l),u=t(9008),m=t(5893);r.default=function(){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(u.default,{children:(0,m.jsx)("title",{children:"Staff Login | Admin Panel"})}),(0,m.jsxs)("main",{className:"card m-auto shadow-lg",style:{maxWidth:"330px"},children:[(0,m.jsx)("i",{className:"bi bi-building mx-auto mt-5 mb-2 h3 text-primary"}),(0,m.jsx)("h6",{className:"mx-auto",children:"Administration Login"}),(0,m.jsx)("div",{className:"card-body",children:(0,m.jsxs)("form",{className:"d-flex flex-column",onSubmit:function(e){e.preventDefault(),e.stopPropagation()},children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"text-secondary",htmlFor:"email",children:"Email *"}),(0,m.jsx)("input",{type:"tel",className:"form-control col-10",style:{borderTopLeftRadius:0,borderBottomLeftRadius:0},placeholder:"E.g.: example@domain.com",onInput:function(e){return e.target.value=e.target.value.slice(0,50)},required:!0,id:"email"}),(0,m.jsx)("small",{id:"emailErr",className:"form-text text-danger"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"text-secondary",htmlFor:"password",children:"Password *"}),(0,m.jsx)("input",{type:"password",className:"form-control",placeholder:"4 - 25 characters",onInput:function(e){return e.target.value=e.target.value.slice(0,25)},id:"password",required:!0}),(0,m.jsx)("small",{id:"passwordErr",className:"form-text text-danger ps-1"})]}),(0,m.jsx)("button",{type:"submit",className:"btn btn-sm btn-primary mx-auto",onClick:function(){var e=(0,n.Z)(s().mark((function e(r){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={email:d()("#email").val(),password:d()("#password").val()},e.next=3,fetch("/api/hospitalstafflogin",{method:"POST",headers:new Headers({"content-type":"application/json"}),body:JSON.stringify({data:t}),redirect:"follow"}).then((function(e){return e.json()})).then((function(e){var r={email:"Email",password:"Password"},t={email:!1,password:!1};void 0!=e.staff?(d()("#emailErr").text(e.staff),t.email=!0):void 0!=e.error?(d()("#passwordErr").text(e.error),t.password=!0):void 0!=e.errors?e.errors.map((function(e){Object.keys(r).map((function(n){e.includes(n)&&(d()("#"+n+"Err").text(e.replace(n,r[n])),t[n]=!0)}))})):c.default.replace("/admin/dashboard?reg=".concat(e.registration_no,"&user=").concat(e.email),"/admin/dashboard"),Object.keys(t).map((function(e){0==t[e]&&d()("#"+e+"Err").text("")}))})).catch((function(e){console.error(e)}));case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),children:"Login"}),(0,m.jsx)("small",{className:"text-secondary mt-2",children:"* - required"}),(0,m.jsx)("div",{className:"text-secondary mt-2 text-center",children:(0,m.jsxs)("small",{children:["Need an account?",(0,m.jsx)(i.default,{href:o.Links.Admin.signup,children:(0,m.jsx)("a",{className:"text-decoration-none fw-bold",children:"\xa0Sign Up\xa0"})}),(0,m.jsx)("strong",{children:"|"}),(0,m.jsx)(i.default,{href:o.Links.App.recover+"?account=staff",children:(0,m.jsx)("a",{className:"text-decoration-none fw-bold",children:"\xa0Forgot Password?"})})]})})]})})]})]})}},8860:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return t(6875)}])},5861:function(e,r,t){"use strict";function n(e,r,t,n,a,s,o){try{var i=e[s](o),c=i.value}catch(l){return void t(l)}i.done?r(c):Promise.resolve(c).then(n,a)}function a(e){return function(){var r=this,t=arguments;return new Promise((function(a,s){var o=e.apply(r,t);function i(e){n(o,a,s,i,c,"next",e)}function c(e){n(o,a,s,i,c,"throw",e)}i(void 0)}))}}t.d(r,{Z:function(){return a}})}},function(e){e.O(0,[774,888,179],(function(){return r=8860,e(e.s=r);var r}));var r=e.O();_N_E=r}]);