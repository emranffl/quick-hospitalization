(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[189],{3829:function(e,t,a){"use strict";var n=a(5893);t.Z=function(e){var t=e.textColor,a=void 0===t?"text-secondary":t,s=e.textContent;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"btn-group dropright",children:[(0,n.jsx)("i",{className:"bi bi-patch-question-fill dropdown-toggle h5 px-2 ".concat(a),style:"text-warning"===a?{cursor:"pointer",color:"darkorange!important"}:{cursor:"pointer"},"data-bs-toggle":"dropdown","aria-expanded":"false"}),(0,n.jsx)("small",{className:"dropdown-menu mt-n5 p-2",style:{boxSizing:"border-box",fontSize:"0.9rem"},children:s})]})})}},8907:function(e,t,a){"use strict";var n=a(3829),s=a(5893);t.Z=function(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"form-check col px-0 d-flex align-items-center",children:[(0,s.jsx)("input",{className:"form-check-input mx-3",style:{cursor:"pointer"},type:"checkbox","data-name":"ward",id:"ward",value:"Ward"}),(0,s.jsx)("label",{className:"form-check-label mt-n2",style:{cursor:"pointer"},htmlFor:"ward",children:"Ward"})]}),(0,s.jsx)("div",{className:"form-check col px-0 w-5",children:(0,s.jsx)("input",{type:"number","data-name":"ward",className:"form-control",id:"wardCount",defaultValue:"0",min:"0",max:"65535",disabled:!0})}),(0,s.jsxs)("div",{className:"form-check col px-0 d-flex align-items-center",children:[(0,s.jsx)("input",{className:"form-check-input mx-3",style:{cursor:"pointer"},type:"checkbox","data-name":"special_ward",id:"specialWard",value:"Special Ward"}),(0,s.jsx)("label",{className:"form-check-label mt-n2",style:{cursor:"pointer"},htmlFor:"specialWard",children:"Special Ward"})]}),(0,s.jsx)("div",{className:"form-check col px-0 w-5",children:(0,s.jsx)("input",{type:"number","data-name":"special_ward",className:"form-control",id:"specialWardCount",defaultValue:"0",min:"0",max:"65535",disabled:!0})}),(0,s.jsxs)("div",{className:"form-check col px-0 d-flex align-items-center",children:[(0,s.jsx)("input",{className:"form-check-input mx-3",style:{cursor:"pointer"},type:"checkbox","data-name":"cabin",id:"cabin",value:"Cabin"}),(0,s.jsx)("label",{className:"form-check-label mt-n2",style:{cursor:"pointer"},htmlFor:"cabin",children:"Cabin"})]}),(0,s.jsx)("div",{className:"form-check col px-0 w-5",children:(0,s.jsx)("input",{type:"number","data-name":"cabin",className:"form-control",id:"cabinCount",defaultValue:"0",min:"0",max:"255",disabled:!0})}),(0,s.jsxs)("div",{className:"form-check col px-0 d-flex align-items-center",children:[(0,s.jsx)("input",{className:"form-check-input mx-3",style:{cursor:"pointer"},type:"checkbox","data-name":"icu",id:"icu",value:"ICU"}),(0,s.jsxs)("label",{className:"form-check-label mt-n2",style:{cursor:"pointer"},htmlFor:"icu",children:["ICU\xa0",(0,s.jsx)(n.Z,{textColor:"text-info",textContent:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("strong",{children:"Intensive Care Unit"}),", input total capacity of all types of ICUs."]})})]})]}),(0,s.jsx)("div",{className:"form-check col px-0 w-5",children:(0,s.jsx)("input",{type:"number","data-name":"icu",className:"form-control",id:"icuCount",defaultValue:"0",min:"0",max:"255",disabled:!0})}),(0,s.jsxs)("div",{className:"form-check col px-0 d-flex align-items-center",children:[(0,s.jsx)("input",{className:"form-check-input mx-3",style:{cursor:"pointer"},type:"checkbox","data-name":"ccu",id:"ccu",value:"CCU"}),(0,s.jsxs)("label",{className:"form-check-label mt-n2",style:{cursor:"pointer"},htmlFor:"ccu",children:["CCU\xa0",(0,s.jsx)(n.Z,{textColor:"text-info",textContent:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("strong",{children:"Critical Care Unit"}),", input total capacity of all types of CCUs."]})})]})]}),(0,s.jsx)("div",{className:"form-check col px-0 w-5",children:(0,s.jsx)("input",{type:"number","data-name":"ccu",className:"form-control",id:"ccuCount",defaultValue:"0",min:"0",max:"255",disabled:!0})}),(0,s.jsxs)("div",{className:"form-check col px-0 d-flex align-items-center",children:[(0,s.jsx)("input",{className:"form-check-input mx-3",style:{cursor:"pointer"},type:"checkbox","data-name":"covidu",id:"covidu",value:"COVIDU"}),(0,s.jsxs)("label",{className:"form-check-label mt-n2",style:{cursor:"pointer"},htmlFor:"covidu",children:["COVIDU\xa0",(0,s.jsx)(n.Z,{textColor:"text-info",textContent:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("strong",{children:"COVID Unit"}),", input total capacity of dedicated COVID treatment units."]})})]})]}),(0,s.jsx)("div",{className:"form-check col px-0 w-5",children:(0,s.jsx)("input",{type:"number","data-name":"covidu",className:"form-control",id:"covidCount",defaultValue:"0",min:"0",max:"65535",disabled:!0})})]})}},153:function(e,t,a){"use strict";var n,s=a(168),i=a(6312),r=a(6573),l=a.n(r),o=a(5893);t.Z=function(){return(0,o.jsx)("div",{className:"d-flex xd",style:{position:"fixed",height:"100vh",width:"100vw",background:"linear-gradient(0deg, rgba(72,216,217,0.7) 0%, rgba(52,58,64,0.9) 96%)",zIndex:1100,backdropFilter:"blur(3px)"},children:(0,o.jsx)(l(),{css:(0,i.css)(n||(n=(0,s.Z)(["\n\t\t\t\t\tmargin: auto auto;\n\t\t\t\t"]))),speedMultiplier:2,color:"white"})})}},6150:function(e,t,a){"use strict";a.d(t,{C:function(){return l},O:function(){return o}});var n=a(5861),s=a(7757),i=a.n(s),r={send:function(e){return new Promise((function(t,a){e.nocache=Math.floor(1e6*Math.random()+1),e.Action="Send";var n=JSON.stringify(e);r.ajaxPost("https://smtpjs.com/v3/smtpjs.aspx?",n,(function(e){t(e)}))}))},ajaxPost:function(e,t,a){var n=r.createCORSRequest("POST",e);n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.onload=function(){var e=n.responseText;null!=a&&a(e)},n.send(t)},ajax:function(e,t){var a=r.createCORSRequest("GET",e);a.onload=function(){var e=a.responseText;null!=t&&t(e)},a.send()},createCORSRequest:function(e,t){var a=new XMLHttpRequest;return"withCredentials"in a?a.open(e,t,!0):"undefined"!=typeof XDomainRequest?(a=new XDomainRequest).open(e,t):a=null,a}},l=function(){var e=(0,n.Z)(i().mark((function e(t,a,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t,a,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),o=function(){var e=(0,n.Z)(i().mark((function e(t,a,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t,a,"This email is automatically generated from internal system of Quick Hospitalization, do not reply. \n            Your OTP is: ".concat(n,". If you haven't requested for the OTP, take necessary steps immediately!"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),c=function(){var e=(0,n.Z)(i().mark((function e(t,a,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.send({Host:"smtp.google.com",Username:"letmeknowthematter@gmail.com",Password:"gmail2021",From:"letmeknowthematter@gmail.com",To:t,Subject:a,Body:n});case 2:if("OK"!==e.sent){e.next=7;break}return e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},5692:function(e,t,a){"use strict";a.d(t,{F:function(){return i}});var n=a(9249);a(733);n.Am.configure();var s={warning:"tomato",danger:"red",primary:"#007BFF"},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"primary",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4e3;(0,n.Am)(e,{autoClose:a,position:n.Am.POSITION.BOTTOM_RIGHT,style:{backgroundColor:s[t],backdropFilter:"blur(3px)",boxShadow:"0 .5rem 1rem rgba(0,0,0,0.75)!important"},bodyClassName:"text-light",bodyStyle:{font:"status-bar"},hideProgressBar:!0})}},1953:function(e,t,a){"use strict";a.r(t),a.d(t,{__N_SSP:function(){return g},default:function(){return _}});var n=a(5861),s=a(7757),i=a.n(s),r=a(9008),l=a(9755),o=a.n(l),c=a(5675),d=a(7294),m=a(5692),u=a(6150),p=a(5835),h=a(153),f=a(8907),x=function e(t,a){var n=Object.keys(t),s=Object.keys(a),i=function(e){return null!=e&&"object"===typeof e};if(n.length!==s.length)return!1;for(var r=0,l=n;r<l.length;r++){var o=l[r],c=t[o],d=a[o],m=i(c)&&i(d);if(m&&!e(c,d)||!m&&c!==d)return!1}return!0},b=a(1163),v=a(4598),j=a(5893),g=!0,_=function(e){var t,a,s=e.retrievedData,l=JSON.parse(s),g=(0,d.useState)(!1),_=g[0],y=g[1];console.log(l);var N=(0,d.useState)(l.staff),w=N[0],k=N[1],C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Active";return w.filter((function(t){return-1!=t.status.indexOf(e)}))},S=(0,d.useState)(C()),I=S[0],E=S[1],F=(0,d.useState)(C()),D=F[0],O=F[1],P=(0,d.useState)("name"),A=P[0],T=P[1],z=(0,d.useState)(!1),q=z[0],Z=z[1],V=(0,d.useState)(""),M=V[0],U=V[1],L=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e?{registration_no:l.registration_no,status:"Active",password:p.randomBytes(5).toString("hex")}:{};return o()("#staffDataRow").find("input[type=text], input[type=tel], input[type=email], select").map((function(a,n){e?(o()(n).attr("data-name"),t[o()(n).attr("data-name")]=o()(n).val()):(o()(n).attr("id"),t[o()(n).attr("id")]=o()(n).val())})),t},R=(0,d.useState)(""),B=R[0],J=R[1],W=function(e,t){var a={email:t};return o()("#".concat(e," input, #").concat(e," select")).map((function(e,t){"role"==o()(t).attr("data-name")?a[o()(t).attr("data-name")]=o()(t).val().replace(" ","_"):a[o()(t).attr("data-name")]=o()(t).val()})),a},H=function(e,t){return o()("#active input[type=radio]").is(":checked")?(0,j.jsxs)(d.Fragment,{children:[["name","mobile_no","email","role","status","joined_on"].map((function(t,a){return(0,j.jsx)("td",{className:"joined_on"==t?"ps-0":void 0,children:"joined_on"==t||"last_updated"==t?new Date(e[t]).toUTCString():"name"==t?B==e.mobile_no?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("input",{type:"text",className:"w-100",placeholder:"E.g.: Alice Milburn",onInput:function(e){return e.target.value=e.target.value.slice(0,50)},onChange:function(t){o()(t.target).attr("value")==t.target.value?o()("#btn_save_"+e.mobile_no).addClass("disabled"):o()("#btn_save_"+e.mobile_no).removeClass("disabled")},required:!0,"data-name":t,defaultValue:e[t]}),(0,j.jsx)("small",{className:"d-block text-danger text-left mt-1 ps-1 fst-italic",style:{fontSize:"0.73rem"},id:e.mobile_no+"_nameErr"})]}):e[t]:"mobile_no"==t?B==e.mobile_no?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("input",{type:"tel",className:"w-100",placeholder:"E.g.: 01*********",onInput:function(e){return e.target.value=e.target.value.slice(0,11)},onChange:function(t){o()(t.target).attr("value")==t.target.value?o()("#btn_save_"+e.mobile_no).addClass("disabled"):o()("#btn_save_"+e.mobile_no).removeClass("disabled")},required:!0,"data-name":t,defaultValue:e[t]}),(0,j.jsx)("small",{className:"d-block text-danger text-left mt-1 ps-1 fst-italic",style:{fontSize:"0.73rem"},id:e.mobile_no+"_mobile_noErr"})]}):e[t]:"email"==t?e[t]:"role"==t?B==e.mobile_no?(0,j.jsxs)("select",{className:"form-select",defaultValue:e[t],"data-name":t,onChange:function(t){e.role==t.target.value?o()("#btn_save_"+e.mobile_no).addClass("disabled"):o()("#btn_save_"+e.mobile_no).removeClass("disabled")},children:[(0,j.jsx)("option",{value:"Admin",children:"Admin"}),(0,j.jsx)("option",{value:"DB Manager",children:"DB Manager"}),(0,j.jsx)("option",{value:"Moderator",children:"Moderator"})]}):e[t].replace("_"," "):"status"==t?B==e.mobile_no?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("select",{className:"form-select",defaultValue:e[t],"data-name":t,onChange:function(t){e.status==t.target.value?o()("#btn_save_"+e.mobile_no).addClass("disabled"):o()("#btn_save_"+e.mobile_no).removeClass("disabled")},children:[(0,j.jsx)("option",{value:"Active",children:"Active"}),(0,j.jsx)("option",{value:"Inactive",children:"Inactive"})]}),(0,j.jsx)("small",{className:"text-danger fst-italic",style:{fontSize:"0.73rem"},children:"# irreversible change"})]}):e[t]:null},a)})),(0,j.jsx)("td",{className:"ps-0 pe-2",children:(0,j.jsxs)("div",{className:"btn-group w-100 animate__animated animate__fadeIn animate__slow",children:[(0,j.jsxs)("button",{className:"btn btn-sm btn-dark d-inline-block hvr-float",onClick:function(t){J(B==e.mobile_no?"":e.mobile_no),o()(".btn-save").addClass("disabled")},children:[(0,j.jsx)("i",{className:"bi bi-pencil-square"}),"\xa0Edit"]}),(0,j.jsxs)("button",{className:"btn btn-sm btn-primary d-inline-block hvr-float btn-save disabled",id:"btn_save_"+e.mobile_no,onClick:function(){var t=(0,n.Z)(i().mark((function t(a){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!o()(a.target).hasClass("disabled")){t.next=2;break}return t.abrupt("return");case 2:return y(!0),t.next=5,fetch("/api/updatehospitalstaff",{method:"POST",body:JSON.stringify(W(e.mobile_no,e.email)),headers:{"content-type":"application/json"}}).then((function(e){return e.json()})).then(function(){var t=(0,n.Z)(i().mark((function t(n){var s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s={name:!1,mobile_no:!1},n.updated?(o()(a.target).addClass("disabled"),o()("#btn_refresh").trigger("click")):void 0!=n.errors&&n.errors.map((function(t){s[t.split(" ")[0]]=!0,o()("#".concat(e.mobile_no,"_").concat(t.split(" ")[0],"Err")).text(t.replace("_no",""))})),Object.keys(s).map((function(t){!s[t]&&o()("#".concat(e.mobile_no,"_").concat(t.split(" ")[0],"Err")).text("")}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){return console.error(e)}));case 5:y(!1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:[(0,j.jsx)("i",{className:"bi bi-file-earmark-check"}),"\xa0Save"]})]})})]},t):["name","mobile_no","email","role","joined_on","last_updated","action"].map((function(t,a){return(0,j.jsx)("td",{children:"joined_on"==t||"last_updated"==t?new Date(e[t]).toUTCString():"role"==t?e[t].toString().replace("_"," "):"action"==t?(0,j.jsxs)("button",{className:"btn btn-sm btn-dark hvr-float animate__animated animate__fadeIn animate__slow",onClick:function(){var t=(0,n.Z)(i().mark((function t(a){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y(!0),t.next=3,fetch("/api/deletehospitalstaff",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({email:e.email})}).then((function(e){return e.json()})).then((function(e){e.deleted?(o()("#btn_refresh").trigger("click"),(0,m.F)("Staff deleted","primary",1800)):(0,m.F)("Could not delete staff! Try again.","primary",1800)})).catch((function(e){return console.error(e)}));case 3:y(!1);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:[(0,j.jsx)("i",{className:"bi bi-trash"}),"\xa0Delete"]}):e[t]},a)}))};(0,d.useEffect)((function(){o()("#amenities-and-services").find("input[type=checkbox]").map((function(e,t){return null==l[o()(t).attr("data-parent")][o()(t).attr("id")]?o()(t).prop("indeterminate",!0):null}))}),[]);var G=(0,d.useState)(l.doctor),Y=G[0],$=G[1];(0,d.useEffect)((function(){o()("#hospital_profile").find("input, select").on("input",(function(e){ne(function(){var e={hospital:{registration_no:l.registration_no},address:{registration_no:l.registration_no}};return o()("#hospital_profile").find("input, select").map((function(t,a){e[o()(a).attr("data-parent")][o()(a).attr("name")]=""==o()(a).val()?null:o()(a).val()})),e}())})),o().ajax({async:!0,crossDomain:!0,url:"https://bdapi.p.rapidapi.com/v1.1/divisions",method:"GET",headers:{"x-rapidapi-key":"cbf862913cmshaa46309e036812ap179cb1jsna79dc0cf751a","x-rapidapi-host":"bdapi.p.rapidapi.com"}}).done((function(e){var t='<option value="null" hidden>Select Division...</option>';e.data.map((function(e,a){t+='<option value="'.concat(e.division,'" ').concat(e.division==l.address.division?"selected":null,">").concat(e.division,"</option>")})),o()("#hospital_division").html(t)})),o().ajax({async:!0,crossDomain:!0,url:"https://bdapi.p.rapidapi.com/v1.1/division/".concat(l.address.division),method:"GET",headers:{"x-rapidapi-key":"cbf862913cmshaa46309e036812ap179cb1jsna79dc0cf751a","x-rapidapi-host":"bdapi.p.rapidapi.com"}}).done((function(e){var t='<option value="null" hidden selected>Select District...</option>';e.data.map((function(e){t+='<option value="'.concat(e.district,'" ').concat(e.district==l.address.district?"selected":null,">").concat(e.district,"</option>")})),o()("#hospital_district").html(t)})),o()("#hospital_capacity").find("input[type=checkbox]").map((function(e,t){o()(t).attr("checked",l.capacity[o()(t).attr("data-name")])})),o()("#hospital_capacity").find("input[type=number]").map((function(e,t){o()(t).val(l.capacity[o()(t).attr("data-name")]),o()(t).attr("min","1"),o()(t).parent().prev().children("input[type=checkbox]").is(":checked")&&o()(t).removeAttr("disabled")})),o()("#hospital_capacity").find("input[type=checkbox]").on("click",(function(e){var t=o()(e.target).parent().next().children("input[type=number]");o()(e.target).is(":checked")?(o()(t).removeAttr("disabled"),o()(t).val("1")):(o()(t).attr("disabled","true"),o()(t).val("")),o()(t).trigger("input")}));o()("#hospital_capacity").find("input[type=number]").on("input",(function(e){ce(function(){var e={registration_no:l.registration_no,total_capacity:function(){var e=0;return o()("#hospital_capacity").find("input[type=number]").map((function(t,a){e+=parseInt(""==o()(a).val()?"0":o()(a).val())})),e}()};return o()("#hospital_capacity").find("input[type=number]").map((function(t,a){e[o()(a).attr("data-name")]=""==o()(a).val()?null:parseInt(o()(a).val())})),e}())}));o()("#hospital_user").find("input").on("input",(function(e){je(function(){var e={registration_no:l.registration_no};return o()("#hospital_user").find("input").map((function(t,a){o()(a).attr("disabled")||o()(a).attr("readonly")||("password"==o()(a).attr("name")?o()(a).hasClass("is-valid")&&(e[o()(a).attr("name")]=o()(a).val()):"mobile_no"==o()(a).attr("name")?e[o()(a).attr("name")]=o()(a).val():e[o()(a).attr("name")]=""==o()(a).val()?null:o()(a).val())})),e}())})),o()("#offcanvasStartContent > ul > li").on("click",(function(e){new bootstrap.Offcanvas(document.getElementById("offcanvasStart")).hide()}))}),[]);var X={hospital:{registration_no:l.registration_no,hospital_name:l.hospital_name,hospital_type:l.hospital_type,website:l.website},address:{registration_no:l.registration_no,street_address:l.address.street_address,district:l.address.district,division:l.address.division,phone_no:l.address.phone_no,mobile_no:l.address.mobile_no,latitude:l.address.latitude,longitude:l.address.longitude}},K=(0,d.useState)(X),Q=K[0],ee=K[1],te=(0,d.useState)(X),ae=te[0],ne=te[1],se=(0,d.useState)(l.capacity),ie=se[0],re=se[1],le=(0,d.useState)(l.capacity),oe=le[0],ce=le[1],de=(0,d.useState)(!1),me=de[0],ue=de[1],pe={registration_no:l.registration_no,name:l.user.name,email:l.user.email,mobile_no:l.user.mobile_no},he=(0,d.useState)(pe),fe=he[0],xe=he[1],be=(0,d.useState)(pe),ve=be[0],je=be[1];return(0,d.useEffect)((function(){x(Q,ae)?o()("#btn_profile").addClass("disabled"):o()("#btn_profile").removeClass("disabled"),x(ie,oe)?o()("#btn_capacity").addClass("disabled"):o()("#btn_capacity").removeClass("disabled"),x(fe,ve)?o()("#btn_user").addClass("disabled"):o()("#btn_user").removeClass("disabled")}),[ae,oe,ve]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r.default,{children:(0,j.jsx)("title",{children:"Dashboard | Admin Panel"})}),(0,j.jsx)("section",{className:"modal fade",id:"logoutModal","data-bs-backdrop":"static","data-bs-keyboard":"true","aria-labelledby":"logoutModalLabel","aria-hidden":"true",children:(0,j.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,j.jsxs)("div",{className:"modal-content",children:[(0,j.jsx)("div",{className:"modal-body",children:(0,j.jsx)("p",{children:"Are you sure you want to logout?"})}),(0,j.jsxs)("div",{className:"modal-footer",children:[(0,j.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){b.default.replace("/admin")},children:"Yes"}),(0,j.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",children:"No"})]})]})})}),(0,j.jsxs)("main",{className:"dashboard",children:[_?(0,j.jsx)(h.Z,{}):null,(0,j.jsx)("div",{className:"offcanvas offcanvas-start p-0",tabIndex:-1,id:"offcanvasStart",style:{width:"260px"},children:(0,j.jsxs)("div",{className:"offcanvas-body p-0 bg-dark d-flex flex-column",children:[(0,j.jsx)("div",{className:"mt-2 text-white text-center h3",children:"Admin Panel"}),(0,j.jsx)("div",{className:"my-auto",id:"offcanvasStartContent",children:(0,j.jsxs)("ul",{className:"nav nav-tabs flex-column border-0 w-100 bg-light",role:"tablist",children:[(0,j.jsx)("li",{className:"nav-item bg-dark",children:(0,j.jsxs)("a",{className:"nav-link d-flex justify-content-start align-items-center rounded-0 border-right-0 animate__animated animate__fadeInLeft",href:"#dashboard","data-bs-toggle":"tab",role:"tab",style:{animationDelay:"100ms"},children:[(0,j.jsx)("i",{className:"bi bi-house-door-fill h4 me-2 my-auto"}),"Dashboard"]})}),(0,j.jsx)("li",{className:"nav-item bg-dark",children:(0,j.jsxs)("a",{className:"nav-link d-flex justify-content-start align-items-center rounded-0 border-right-0 animate__animated animate__fadeInLeft",href:"#employees","data-bs-toggle":"tab",role:"tab",style:{animationDelay:"200ms"},children:[(0,j.jsx)("i",{className:"bi bi-people-fill h4 me-2 my-auto"}),"Employees"]})}),(0,j.jsx)("li",{className:"nav-item bg-dark",children:(0,j.jsxs)("a",{className:"nav-link d-flex justify-content-start align-items-center rounded-0 border-right-0 animate__animated animate__fadeInLeft active",href:"#doctors-and-schedule","data-bs-toggle":"tab",role:"tab",style:{animationDelay:"400ms"},children:[(0,j.jsx)("i",{className:"bi bi-person-bounding-box h4 my-auto"}),(0,j.jsx)("i",{className:"bi bi-calendar2-week h5 me-2 mb-n3",style:{zIndex:-1,marginLeft:"-7px"}}),"Doctors & Schedule"]})}),(0,j.jsx)("li",{className:"nav-item bg-dark",children:(0,j.jsxs)("a",{className:"nav-link d-flex justify-content-start align-items-center rounded-0 border-right-0 animate__animated animate__fadeInLeft",href:"#activity","data-bs-toggle":"tab",role:"tab",style:{animationDelay:"550ms"},children:[(0,j.jsx)("i",{className:"bi bi-archive-fill h4 me-2 my-auto"}),"Activity"]})}),(0,j.jsx)("li",{className:"nav-item bg-dark",children:(0,j.jsxs)("a",{className:"nav-link d-flex justify-content-start align-items-center rounded-0 border-right-0 animate__animated animate__fadeInLeft",href:"#settings","data-bs-toggle":"tab",role:"tab",style:{animationDelay:"500ms"},children:[(0,j.jsx)("i",{className:"bi bi-gear-fill h4 me-2 my-auto"}),"Settings"]})})]})}),(0,j.jsxs)("div",{className:"text-white",children:[(0,j.jsx)("hr",{className:"my-0"}),(0,j.jsxs)("div",{className:"m-1 d-flex justify-content-center",children:[(0,j.jsx)("small",{children:(0,j.jsx)("a",{className:"text-decoration-none hvr-float",href:v.Links.App.about,target:"_blank",children:"About"})}),(0,j.jsx)("span",{children:"\xa0\u2022\xa0"}),(0,j.jsx)("small",{children:(0,j.jsx)("a",{className:"text-decoration-none hvr-float",href:v.Links.App.contact,target:"_blank",children:"Contact"})}),(0,j.jsx)("span",{children:"\xa0\u2022\xa0"}),(0,j.jsx)("small",{children:(0,j.jsx)("a",{className:"text-decoration-none hvr-float",href:v.Links.App.privacy,target:"_blank",children:"Privacy"})}),(0,j.jsx)("span",{children:"\xa0\u2022\xa0"}),(0,j.jsx)("small",{children:(0,j.jsx)("a",{className:"text-decoration-none hvr-float",href:v.Links.App.terms,target:"_blank",children:"Terms"})})]})]})]})}),(0,j.jsxs)("section",{className:"ms-sm-auto px-0",children:[(0,j.jsx)("nav",{className:"navbar navbar-secondary bg-light sticky-top pt-3 pb-2 mb-3 border-bottom animate__animated animate__fadeInDown",children:(0,j.jsxs)("div",{className:"container px-0 d-flex justify-content-between align-items-center flex-wrap flex-md-nowrap",children:[(0,j.jsxs)("div",{className:"d-flex align-items-center",children:[(0,j.jsx)("i",{className:"bi bi-three-dots navbar-toggler d-inline-block h6 my-auto",style:{fontSize:"1.6rem"},"data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasStart"}),(0,j.jsxs)("h6",{className:"navbar-brand fw-light text-wrap d-inline-block m-0 p-0",children:[l.hospital_name," | Admin Panel"]})]}),(0,j.jsxs)("div",{className:"mx-auto mx-md-0 mt-3 mt-md-0 ps-2",children:[(0,j.jsx)("small",{className:"",children:l.user.name}),"\xa0|\xa0",(0,j.jsx)("small",{className:"text-primary","data-bs-toggle":"modal","data-bs-target":"#logoutModal",children:"Logout"})]})]})}),(0,j.jsxs)("div",{className:"tab-content",id:"nav-tabContent",children:[(0,j.jsx)("div",{className:"tab-pane fade",id:"dashboard",role:"tabpanel",children:(0,j.jsx)("div",{className:"row row-cols-1 row-cols-sm-2 row-cols-lg-4 mx-0 mt-n3 px-2 py-4",style:{backgroundColor:"aliceblue"},children:Object.keys(l.count.booking).map((function(e,t){return(0,j.jsx)(d.Fragment,{children:(0,j.jsx)("div",{className:"col p-1",children:(0,j.jsx)("div",{className:"card card-stats shadow border rounded",children:(0,j.jsx)("div",{className:"card-body",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-5 col-md-4 p-0 d-flex justify-content-center align-items-center",children:(0,j.jsx)("div",{className:"h1 text-center text-info",children:0==t?(0,j.jsx)("i",{className:"bi bi-journal-medical"}):1==t?(0,j.jsx)("i",{className:"bi bi-journal-bookmark-fill"}):2==t?(0,j.jsx)("i",{className:"bi bi-journal-check"}):(0,j.jsx)("i",{className:"bi bi-journal-x"})})}),(0,j.jsxs)("div",{className:"col-7 col-md-8 text-center",children:[(0,j.jsx)("h5",{className:"card-title",children:e.replace(/(?:^\w|[A-Z]|\b\w)/g,(function(e,t){return e.toUpperCase()}))}),(0,j.jsx)("span",{className:"fs-1 fw-light",children:l.count.booking[e]})]})]})})})})},t)}))})}),(0,j.jsxs)("div",{className:"tab-pane fade",id:"employees",role:"tabpanel",children:[(0,j.jsxs)("div",{className:"container",children:[(0,j.jsxs)("div",{className:"d-flex",children:[(0,j.jsxs)("div",{className:"btn-group btn-group-sm btn-group-toggle d-flex",style:{flex:"auto"},role:"group","data-bs-toggle":"buttons",children:[(0,j.jsxs)("label",{className:"btn btn-primary animate__animated animate__zoomIn active",id:"active",onClick:function(e){E(C()),O(C()),J("")},children:[(0,j.jsx)("input",{className:"btn-check",type:"radio",name:"options",defaultChecked:!0}),"Active"]}),(0,j.jsxs)("label",{className:"btn btn-warning animate__animated animate__zoomIn",id:"inactive",onClick:function(e){E(C("Inactive")),O(C("Inactive"))},children:[(0,j.jsx)("input",{className:"btn-check",type:"radio",name:"options"}),"Inactive"]})]}),(0,j.jsxs)("div",{className:"",children:[(0,j.jsx)("button",{className:"btn btn-sm btn-info ms-1 hvr-grow","data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:"Refresh List",onClick:function(){var e=(0,n.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o()("#btn_refresh_employee_spinner").addClass("rotate"),e.next=3,fetch("/api/getupdatedstaffs",{method:"GET",headers:{"content-type":"application/json","x-registration-no":l.registration_no,"x-user-email":l.user.email}}).then((function(e){return e.json()})).then((function(e){k(e),o()("#inactive input[type=radio]").is(":checked")?o()("#inactive").trigger("click"):o()("#active").trigger("click"),o()("#btn_refresh_employee_spinner").removeClass("rotate"),(0,m.F)("Staff list refreshed!","primary",1800)})).catch((function(e){return console.error(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:(0,j.jsx)("i",{className:"bi bi-arrow-repeat h6 d-inline-block mb-0",id:"btn_refresh_employee_spinner"})}),(0,j.jsx)("button",{className:"btn btn-sm btn-dark ms-1 hvr-grow",id:"addStaff","data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:"Add New Staff",onClick:function(){Z(!q),U("")},children:(0,j.jsx)("i",{className:"bi bi-person-plus-fill h6"})})]})]}),(0,j.jsx)("div",{className:"my-3",children:(0,j.jsx)("form",{onSubmit:function(e){e.stopPropagation(),e.preventDefault()},children:(0,j.jsxs)("div",{className:"form-group row",children:[(0,j.jsx)("div",{className:"col-12 col-lg-6 col-xl-7 animate__animated animate__fadeInDown",children:(0,j.jsx)("input",{type:"search",placeholder:"Search employees",className:0==l.staff.length?"form-control form-control-sm disabled":"form-control form-control-sm",id:"searchStaffs",onChange:function(e){O(I.filter((function(t){return"joined_on"==A?-1!=new Date(t[A]).toUTCString().toLowerCase().indexOf(e.target.value.toLowerCase()):-1!=t[A].toString().toLowerCase().indexOf(e.target.value.toLowerCase())})))},onClick:function(){J(""),o()(".btn-save").addClass("disabled")}})}),(0,j.jsxs)("div",{className:"col-12 col-lg-6 col-xl-5 animate__animated animate__fadeInUp mt-2 mt-lg-0 d-flex justify-content-around",id:"searchType",children:[(0,j.jsxs)("div",{className:"form-check form-check-inline",children:[(0,j.jsx)("input",{type:"radio",id:"name",name:"radioInline",className:"form-check-input",onClick:function(e){T(e.target.id),o()("#searchStaffs").trigger("focus")},defaultChecked:!0}),(0,j.jsx)("label",{className:"form-check-label ms-1",htmlFor:"name",children:"name"})]}),(0,j.jsxs)("div",{className:"form-check form-check-inline",children:[(0,j.jsx)("input",{type:"radio",id:"mobile_no",name:"radioInline",className:"form-check-input",onClick:function(e){T(e.target.id),o()("#searchStaffs").trigger("focus")}}),(0,j.jsx)("label",{className:"form-check-label ms-1",htmlFor:"mobile_no",children:"mobile"})]}),(0,j.jsxs)("div",{className:"form-check form-check-inline",children:[(0,j.jsx)("input",{type:"radio",id:"email",name:"radioInline",className:"form-check-input",onClick:function(e){T(e.target.id),o()("#searchStaffs").trigger("focus")}}),(0,j.jsx)("label",{className:"form-check-label ms-1",htmlFor:"email",children:"email"})]}),(0,j.jsxs)("div",{className:"form-check form-check-inline",children:[(0,j.jsx)("input",{type:"radio",id:"joined_on",name:"radioInline",className:"form-check-input",onClick:function(e){T(e.target.id),o()("#searchStaffs").trigger("focus")}}),(0,j.jsx)("label",{className:"form-check-label ms-1",htmlFor:"joined_on",children:"joined on"})]})]})]})})})]}),q?(0,j.jsxs)("div",{className:"table-responsive mt-5 mb-5 px-lg-5 px-md-3 px-2 animate__animated animate__fadeIn",children:[(0,j.jsx)("h5",{children:"Add New Staff"}),(0,j.jsxs)("table",{className:"table",children:[(0,j.jsx)("thead",{className:"thead-dark text-center",children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{children:"Name *"}),(0,j.jsx)("th",{children:"Mobile *"}),(0,j.jsx)("th",{children:"Email *"}),(0,j.jsx)("th",{children:"Role *"}),""!=M?(0,j.jsx)("th",{className:"animate__animated animate__fadeIn",children:"OTP *"}):null,(0,j.jsx)("th",{children:"Action"})]})}),(0,j.jsx)("tbody",{className:"text-center",children:(0,j.jsxs)("tr",{id:"staffDataRow",children:[(0,j.jsxs)("td",{children:[(0,j.jsx)("input",{type:"text",className:"w-100",id:"staffName",placeholder:"E.g.: Alice Milburn",onInput:function(e){return e.target.value=e.target.value.slice(0,50)},required:!0,"data-name":"name"}),(0,j.jsx)("small",{className:"d-block text-danger text-left mt-1 ps-1",id:"staffNameErr"})]}),(0,j.jsxs)("td",{children:[(0,j.jsx)("input",{type:"tel",className:"w-100",id:"staffMobile",placeholder:"E.g.: 01*********",onInput:function(e){return e.target.value=e.target.value.slice(0,11)},required:!0,"data-name":"mobile_no"}),(0,j.jsx)("small",{className:"d-block text-danger text-left mt-1 ps-1",id:"staffMobileErr"})]}),(0,j.jsxs)("td",{children:[(0,j.jsx)("input",{type:"email",className:"w-100",id:"staffEmail",placeholder:"E.g.: example@domain.com",onInput:function(e){return e.target.value=e.target.value.slice(0,50)},required:!0,"data-name":"email"}),(0,j.jsx)("small",{className:"d-block text-danger text-left mt-1 ps-1",id:"staffEmailErr"})]}),(0,j.jsx)("td",{className:"input-group input-group-sm",children:(0,j.jsxs)("select",{className:"form-select",id:"staffRole",onChange:function(e){o()("#btn_addStaff").removeClass("disabled")},"data-name":"role",children:[(0,j.jsx)("option",{value:"null",hidden:!0,children:"Choose..."}),(0,j.jsx)("option",{value:"Admin",children:"Admin"}),(0,j.jsx)("option",{value:"DB_Manager",children:"DB Manager"}),(0,j.jsx)("option",{value:"Moderator",children:"Moderator"})]})}),""!=M?(0,j.jsxs)("td",{className:"animate__animated animate__fadeIn",children:[(0,j.jsxs)("div",{className:"code_group",children:[(0,j.jsx)("input",{type:"number",className:"form-control",min:"0",max:"9",id:"d-1",onInput:function(e){1==e.target.value.length&&o()("#d-2").trigger("focus")}}),(0,j.jsx)("input",{type:"number",className:"form-control",min:"0",max:"9",id:"d-2",onInput:function(e){1==e.target.value.length&&o()("#d-3").trigger("focus")}}),(0,j.jsx)("input",{type:"number",className:"form-control",min:"0",max:"9",id:"d-3",onInput:function(e){1==e.target.value.length&&o()("#d-4").trigger("focus")}}),(0,j.jsx)("input",{type:"number",className:"form-control",min:"0",max:"9",id:"d-4",onChange:function(){var e=(0,n.Z)(i().mark((function e(t){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=o()("#d-1").val()+o()("#d-2").val()+o()("#d-3").val()+o()("#d-4").val(),M!=a){e.next=8;break}return U(""),o()("#otpErr").text(""),e.next=6,fetch("/api/addhospitalstaff",{method:"POST",body:JSON.stringify(L(!0)),headers:{"content-type":"application/json","x-fields-validated":"true"}}).then((function(e){return e.json()})).then(function(){var e=(0,n.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t){e.next=14;break}return y(!0),e.next=4,(0,u.C)(t.email,"Staff Login Credentials","This email is automatically generated from internal system of Quick Hospitalization, do not reply. \n           \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAn account has been created for you as '".concat(t.role.replace("_"," "),"' to access the dashboard functionalities\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tat https://").concat(window.location.host,"/admin. Mobile '").concat(t.mobile_no,"' & password '").concat(t.password,"'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tare your login credentials. You are advised to change your password immediately after login."));case 4:if(!e.sent){e.next=10;break}(0,m.F)("Staff added and the credentials have been sent to the provided email.","primary",5e3),o()("#staffDataRow").find("input[type=text], input[type=tel], input[type=email], select").map((function(e,t){"staffRole"==o()(t).attr("id")?o()(t).html(o()(t).html()):o()(t).val("")})),o()("#btn_addStaff").removeClass("disabled"),e.next=11;break;case 10:(0,m.F)("Staff added but the credentials could not send to the provided email. \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tRecovering the staff's password is advised.","warning",5e3);case 11:y(!1),e.next=16;break;case 14:(0,m.F)("Could not add the staff! Please try again.","warning"),o()("#btn_addStaff").removeClass("disabled");case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.error(e)}));case 6:e.next=9;break;case 8:o()("#otpErr").text("Invalid OTP!");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]}),(0,j.jsx)("small",{className:"d-block text-danger text-left mt-1 ps-1",id:"otpErr"})]}):null,(0,j.jsx)("td",{children:(0,j.jsxs)("button",{className:"btn btn-sm btn-primary disabled",id:"btn_addStaff",onClick:function(){var e=(0,n.Z)(i().mark((function e(t){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o()("#btn_addStaff").hasClass("disabled")){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fetch("/api/addhospitalstaff",{method:"POST",body:JSON.stringify(L()),headers:{"content-type":"application/json"}}).then((function(e){return e.json()})).then(function(){var e=(0,n.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={},Object.keys(L()).map((function(e){n[e]=!1})),void 0!=t.errors&&t.errors.map((function(e){o()("#"+Object.keys(L()).filter((function(t){return-1!=t.indexOf(e.split(" ")[0])}))[0]+"Err").text(e.replace("staff","")),n[e.split(" ")[0]]=!0})),Object.keys(L()).map((function(e){n[e]||o()("#"+e+"Err").text("")})),!t.validated){e.next=19;break}return o()("#btn_addStaff_spinner").removeClass("d-none"),a=Math.floor(1e3+9e3*Math.random()),U(a.toString()),console.log(a),e.next=11,(0,u.O)(o()("#staffEmail").val(),"Staff Email Verification",a);case 11:if(!e.sent){e.next=17;break}U(a.toString()),(0,m.F)("An OTP has been sent to the provided staff email, input OTP and verify.","primary",7e3),o()("#btn_addStaff").addClass("disabled"),e.next=18;break;case 17:(0,m.F)("Couldn't send OTP at the moment. Check your internet connectivity, please try again later.","warning",5e3);case 18:o()("#btn_addStaff_spinner").addClass("d-none");case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.error(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[(0,j.jsx)("span",{className:"spinner-border spinner-border-sm d-none",id:"btn_addStaff_spinner"}),"\xa0Add Staff"]})})]})})]})]}):null,(0,j.jsx)("div",{className:"table-responsive px-lg-5 px-md-3 px-2 animate__animated animate__fadeIn animate__slow",children:(0,j.jsxs)("table",{className:"table table-striped table-hover bg-light rounded-3 shadow border-primary",id:"staffDataTable",children:[(0,j.jsx)("caption",{children:(0,j.jsx)("small",{children:(0,j.jsxs)("i",{children:["Showing ",D.length,"\xa0of\xa0",I.length," entries"]})})}),(0,j.jsx)("thead",{className:"table-dark text-center",children:(0,j.jsx)("tr",{children:o()("#active input[type=radio]").is(":checked")?["name","mobile_no","email","role","status","joined_on","action"].map((function(e,t){return(0,j.jsx)("th",{children:e.split("_").join(" ").replace(" no","").replace(/(?:^\w|[A-Z]|\b\w)/g,(function(e,t){return e.toUpperCase()}))},t)})):["name","mobile_no","email","role","joined_on","last_updated","Action"].map((function(e,t){return(0,j.jsx)("th",{children:e.split("_").join(" ").replace(" no","").replace(/(?:^\w|[A-Z]|\b\w)/g,(function(e,t){return e.toUpperCase()}))},t)}))})}),(0,j.jsx)("tbody",{className:"text-center",children:D.map((function(e,t){return(0,j.jsx)("tr",{className:"Active"==(null===e||void 0===e?void 0:e.status)?"table-active":"table-secondary text-secondary",id:null===e||void 0===e?void 0:e.mobile_no,children:H(e,t)},t)}))})]})})]}),(0,j.jsx)("div",{className:"tab-pane fade show active",id:"doctors-and-schedule",role:"tabpanel",children:(0,j.jsxs)("div",{className:"container",children:[(0,j.jsxs)("form",{className:"form-floating",style:{maxWidth:"21rem"},onSubmit:function(e){e.preventDefault(),e.stopPropagation()},children:[(0,j.jsx)("h3",{children:"Add a doctor profile"}),(0,j.jsxs)("div",{className:"form-floating my-2",children:[(0,j.jsx)("input",{type:"text",className:"form-control",id:"doctor_id",placeholder:"E.g.: d123456789",required:!0,onFocusCapture:function(e){return e.target.value="d"},onInput:function(e){return e.target.value="d"+e.target.value.slice(1,10)}}),(0,j.jsx)("label",{htmlFor:"id",children:"Doctor ID *"})]}),(0,j.jsxs)("div",{className:"form-floating",children:[(0,j.jsx)("input",{type:"email",className:"form-control",id:"doctor_email",placeholder:"E.g.: example@domain.com",required:!0,onInput:function(e){return e.target.value=e.target.value.slice(0,50)}}),(0,j.jsx)("label",{htmlFor:"email",children:"Work Email *"})]}),(0,j.jsx)("small",{className:"text-danger",id:"addDoctorErr"}),(0,j.jsx)("div",{className:"d-flex justify-content-end",children:(0,j.jsx)("button",{className:"btn btn-sm btn-outline-dark mt-2",onClick:(0,n.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.next=3,fetch("/api/adddoctor",{method:"POST",headers:{"content-type":"application/json","x-registration-no":l.registration_no},body:JSON.stringify({id:o()("#doctor_id").val(),email:o()("#doctor_email").val()})}).then((function(e){return e.json()})).then(function(){var e=(0,n.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),y(!1),void 0==t.message){e.next=6;break}o()("#addDoctorErr").text(t.message),e.next=16;break;case 6:return o()("#addDoctorErr").text(""),$(t),(0,m.F)("Profile added to database. Doctor can now signup and update their profile.","primary",6e3),e.next=11,(0,u.C)(t.email,"Eligible to signup for ".concat(l.hospital_name),"Your profile has been added to the database of ".concat(l.hospital_name," and is currently inactive. \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tYou can now signup, set up your schedule and continue curing patients. Head on to https://www.quickhospitalization.org/doctor/signup in order to signup."));case 11:if(!e.sent){e.next=15;break}(0,m.F)("Confirmation email sent to the email!"),e.next=16;break;case 15:(0,m.F)("Confirmation email could not be sent at the moment.","warning");case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.error(e)}));case 3:y(!1);case 4:case"end":return e.stop()}}),e)}))),children:"Add Doctor"})})]}),(0,j.jsxs)("div",{className:"mt-4 mb-2 d-flex justify-content-between align-items-center",children:[(0,j.jsx)("h2",{className:"",children:"Doctors"}),(0,j.jsx)("span",{className:"",children:(0,j.jsx)("button",{className:"btn btn-sm btn-info hvr-grow","data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:"Refresh List",onClick:function(){var e=(0,n.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o()("#btn_refresh_doctor_spinner").addClass("rotate"),e.next=3,fetch("/api/getdoctorlist",{method:"GET",headers:{"content-type":"application/json","x-registration-no":l.registration_no}}).then((function(e){return e.json()})).then((function(e){$(e),o()("#btn_refresh_doctor_spinner").removeClass("rotate"),(0,m.F)("Doctor list refreshed!","primary",1800)})).catch((function(e){return console.error(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:(0,j.jsx)("i",{className:"bi bi-arrow-repeat h6",id:"btn_refresh_doctor_spinner"})})})]}),(0,j.jsx)("div",{className:"table-responsive",children:(0,j.jsxs)("table",{className:"table table-sm table-striped table-bordered table-hover",children:[(0,j.jsx)("thead",{children:(0,j.jsxs)("tr",{className:"text-center",children:[(0,j.jsx)("th",{children:"ID"}),(0,j.jsx)("th",{children:"Email"}),(0,j.jsx)("th",{children:"Status"})]})}),(0,j.jsx)("tbody",{children:Y.map((function(e,t){return(0,j.jsx)("tr",{children:["id","email","status"].map((function(t,a){return"email"==t?"Active"==e.status?(0,j.jsx)("td",{children:(0,j.jsx)("a",{href:"mailto:".concat(e[t].toString()),children:e[t].toString()})},a):(0,j.jsx)("td",{className:"text-secondary",children:e[t].toString()},a):"Inactive"==e.status&&"status"==t?(0,j.jsx)("td",{className:"text-secondary",children:e[t].toString()},a):"id"==t?(0,j.jsxs)("td",{className:"font-monospace d-flex justify-content-between align-items-center",children:[(0,j.jsx)("span",{children:e[t].toString()}),(0,j.jsx)("button",{className:"btn btn-sm btn-outline-dark px-1 py-0",children:"Details"})]},a):(0,j.jsx)("td",{children:e[t].toString()},a)}))},t)}))}),(0,j.jsx)("tfoot",{}),(0,j.jsxs)("caption",{children:[l.doctor.length," entries"]})]})})]})}),(0,j.jsx)("div",{className:"tab-pane fade",id:"activity",role:"tabpanel",children:(0,j.jsx)("div",{className:"table-responsive px-lg-5 px-md-3 px-2 animate__animated animate__fadeIn animate__slow",children:(0,j.jsxs)("table",{className:"table table-striped table-hover bg-light rounded-3 shadow",id:"logDataTable",children:[(0,j.jsx)("caption",{children:(0,j.jsx)("small",{children:(0,j.jsxs)("i",{children:["Showing ",l.log.length,"\xa0of\xa0",l.log.length," entries"]})})}),(0,j.jsx)("thead",{className:"table-dark text-center",children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{children:"Logged At"}),(0,j.jsx)("th",{children:"Name"}),(0,j.jsx)("th",{children:"Mobile"}),(0,j.jsx)("th",{children:"Email"}),(0,j.jsx)("th",{children:"Role"}),(0,j.jsx)("th",{children:"Status"}),(0,j.jsx)("th",{children:"Task"})]})}),(0,j.jsx)("tbody",{className:"text-center",children:l.log.map((function(e,t){return(0,j.jsx)("tr",{className:"table-active",id:e.mobile_no,children:["logged_at","name","mobile_no","email","role","status","task"].map((function(t,a){return"logged_at"==t?(0,j.jsx)("td",{children:new Date(e[t]).toUTCString()},a):"name"==t||"status"==t?(0,j.jsx)("td",{children:e.staff[t]},a):"email"==t?(0,j.jsx)("td",{children:(0,j.jsx)("a",{href:"mailto:".concat(e.staff[t]),target:"_blank",children:e.staff[t]})},a):"mobile_no"==t?(0,j.jsx)("td",{children:e[t]},a):"role"==t?(0,j.jsx)("td",{children:e[t].toString().replace("_"," ")},a):(0,j.jsx)("td",{children:e[t]},a)}))},t)}))})]})})}),(0,j.jsx)("div",{className:"tab-pane fade",id:"settings",role:"tabpanel",children:(0,j.jsx)("div",{className:"container",children:(0,j.jsx)("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation()},children:(0,j.jsxs)("div",{className:"card border-0 mb-5 bg-transparent",children:[(0,j.jsxs)("fieldset",{className:"bg-white shadow-sm rounded animate__animated animate__fadeIn",style:{animationDelay:"100ms"},children:[(0,j.jsx)("h5",{className:"card-header",children:"Profile"}),(0,j.jsxs)("div",{className:"card-body",id:"hospital_profile",children:[(0,j.jsxs)("div",{className:"row row-cols-md-3 row-cols-sm-2 row-cols-1",children:[(0,j.jsxs)("div",{className:"col mb-3",children:[(0,j.jsx)("label",{className:"text-primary",style:{fontSize:"0.9rem"},htmlFor:"hospital_hospital_name",children:"Name *"}),(0,j.jsx)("input",{type:"text",className:"form-control",id:"hospital_hospital_name","data-parent":"hospital",name:"hospital_name",placeholder:"E.g.: United Hospital Ltd.",defaultValue:l.hospital_name,onInput:function(e){return e.target.value=e.target.value.slice(0,100)},required:!0}),(0,j.jsx)("small",{className:"invalid-feedback"})]}),(0,j.jsxs)("div",{className:"col mb-3",children:[(0,j.jsx)("label",{className:"text-primary",style:{fontSize:"0.9rem"},htmlFor:"hospital_registration_no",children:"Registration"}),(0,j.jsx)("input",{type:"text",className:"form-control",id:"hospital_registration_no","data-parent":"hospital",name:"registration_no",placeholder:"E.g.: 1*2*3*4*5*",defaultValue:l.registration_no,onInput:function(e){return e.target.value=e.target.value.slice(0,10)},disabled:!0,readOnly:!0})]}),(0,j.jsxs)("div",{className:"col mb-3",children:[(0,j.jsx)("label",{className:"text-primary",style:{fontSize:"0.9rem"},htmlFor:"hospital_hospital_type",children:"Type *"}),(0,j.jsxs)("select",{className:"form-select",id:"hospital_hospital_type","data-parent":"hospital",name:"hospital_type",defaultValue:l.hospital_type,required:!0,children:[(0,j.jsx)("option",{value:"Public",children:"Public"}),(0,j.jsx)("option",{value:"Private",children:"Private"})]}),(0,j.jsx)("small",{className:"invalid-feedback"})]}),(0,j.jsxs)("div",{className:"col mb-3",children:[(0,j.jsx)("label",{className:"text-primary",style:{fontSize:"0.9rem"},htmlFor:"hospital_website",children:"Website #"}),(0,j.jsx)("input",{type:"url",className:"form-control",id:"hospital_website","data-parent":"hospital",name:"website",placeholder:"E.g.: www.example.com",defaultValue:l.website,onInput:function(e){return e.target.value=e.target.value.slice(0,255)}}),(0,j.jsx)("small",{className:"invalid-feedback"})]}),(0,j.jsxs)("div",{className:"col mb-3",children:[(0,j.jsx)("label",{className:"text-primary",style:{fontSize:"0.9rem"},htmlFor:"hospital_phone_no",children:"Phone #"}),(0,j.jsx)("input",{type:"tel",className:"form-control",id:"hospital_phone_no","data-parent":"address",name:"phone_no",placeholder:"E.g.: 023456712",defaultValue:null==l.address.phone_no?"":l.address.phone_no,onInput:function(e){return e.target.value=e.target.value.slice(0,11)}}),(0,j.jsx)("small",{className:"invalid-feedback"})]}),(0,j.jsxs)("div",{className:"col mb-3",children:[(0,j.jsx)("label",{className:"text-primary",style:{fontSize:"0.9rem"},htmlFor:"hospital_mobile_no",children:"Mobile #"}),(0,j.jsx)("input",{type:"tel",className:"form-control",id:"hospital_mobile_no","data-parent":"address",name:"mobile_no",placeholder:"E.g.: 01*********",defaultValue:null==l.address.mobile_no?"":l.address.mobile_no,onInput:function(e){return e.target.value=e.target.value.slice(0,11)}}),(0,j.jsx)("small",{className:"invalid-feedback"})]})]}),(0,j.jsxs)("div",{className:"row row-cols-3 mb-3",children:[(0,j.jsxs)("div",{className:"col",children:[(0,j.jsx)("label",{className:"text-primary",style:{fontSize:"0.9rem"},htmlFor:"hospital_latitude",children:"Latitude $"}),(0,j.jsx)("input",{type:"number",min:"-90",max:"90",step:"0.00000001",onInput:function(e){return e.target.value=e.target.value.slice(0,10)},className:"form-control",id:"hospital_latitude","data-parent":"address",name:"latitude",placeholder:"E.g.: 23.80665",defaultValue:null===(t=l.address.latitude)||void 0===t?void 0:t.toString()}),(0,j.jsx)("small",{className:"invalid-feedback"})]}),(0,j.jsxs)("div",{className:"col",children:[(0,j.jsx)("label",{className:"text-primary",style:{fontSize:"0.9rem"},htmlFor:"hospital_longitude",children:"Longitude $"}),(0,j.jsx)("input",{type:"number",min:"-180",max:"180",step:"0.00000001",onInput:function(e){return e.target.value=e.target.value.slice(0,10)},className:"form-control",id:"hospital_longitude","data-parent":"address",name:"longitude",placeholder:"E.g.: 90.679456",defaultValue:null===(a=l.address.longitude)||void 0===a?void 0:a.toString()}),(0,j.jsx)("small",{className:"invalid-feedback"})]}),(0,j.jsx)("div",{className:"col d-flex",children:(0,j.jsxs)("button",{className:"btn btn-sm btn-dark mt-auto mb-1 mx-auto mx-md-0",style:{fontSize:"0.85rem"},onClick:function(){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){o()("#coordinateErr").text(""),o()("#hospital_latitude, #hospital_longitude").next("small").text(""),o()("#hospital_latitude").val(e.coords.latitude.toString().slice(0,10)),o()("#hospital_longitude").val(e.coords.longitude.toString().slice(0,10)),o()("#hospital_latitude").trigger("input")}),(function(e){return o()("#coordinateErr").html(e.message)})):o()("#coordinateErr").text("Your browser doesn't support geolocation. Try inputting manually.")},children:[(0,j.jsx)("i",{className:"bi bi-geo-alt"}),"\xa0Get Position"]})}),(0,j.jsx)("small",{className:"text-danger fst-italic ms-1 mt-1",id:"coordinateErr"})]}),(0,j.jsxs)("div",{className:"row mt-n1",children:[(0,j.jsxs)("div",{className:"col-12 col-md-4 mb-3",children:[(0,j.jsx)("label",{className:"text-primary",style:{fontSize:"0.9rem"},htmlFor:"hospital_street_address",children:"Street Address *"}),(0,j.jsx)("input",{type:"text",className:"form-control",id:"hospital_street_address","data-parent":"address",name:"street_address",placeholder:"Street address of the hospital",defaultValue:l.address.street_address,required:!0}),(0,j.jsx)("small",{className:"invalid-feedback"})]}),(0,j.jsxs)("div",{className:"col-6 col-md-4 mb-3",children:[(0,j.jsx)("label",{className:"text-primary",style:{fontSize:"0.9rem"},htmlFor:"hospital_division",children:"Division *"}),(0,j.jsx)("select",{className:"form-select",id:"hospital_division","data-parent":"address",name:"division",required:!0,onChange:function(e){o().ajax({async:!0,crossDomain:!0,url:"https://bdapi.p.rapidapi.com/v1.1/division/".concat(e.target.value),method:"GET",headers:{"x-rapidapi-key":"cbf862913cmshaa46309e036812ap179cb1jsna79dc0cf751a","x-rapidapi-host":"bdapi.p.rapidapi.com"}}).done((function(e){var t='<option value="null" hidden selected>Select District...</option>';e.data.map((function(e){t+='<option value="'.concat(e.district,'">').concat(e.district,"</option>")})),o()("#hospital_district").html(t)}))},children:(0,j.jsx)("option",{value:"null",hidden:!0,children:"Select Division"})})]}),(0,j.jsxs)("div",{className:"col-6 col-md-4 mb-3",children:[(0,j.jsx)("label",{className:"text-primary",style:{fontSize:"0.9rem"},htmlFor:"hospital_district",children:"District *"}),(0,j.jsx)("select",{className:"form-select",id:"hospital_district","data-parent":"address",name:"district",required:!0,children:(0,j.jsx)("option",{value:"null",hidden:!0,children:"Select District"})})]})]})]}),(0,j.jsxs)("div",{className:"card-footer d-flex justify-content-end py-1",children:[(0,j.jsxs)("div",{className:"text-info me-auto pe-2",children:[(0,j.jsx)("small",{className:"me-2 mb-1 d-inline-block",children:"* - required"}),(0,j.jsx)("small",{className:"me-2 mb-1 d-inline-block",children:"# - either one is required"}),(0,j.jsx)("small",{className:"me-2 mb-1 d-inline-block",children:"$ - optional"})]}),(0,j.jsxs)("button",{className:"btn btn-sm btn-primary disabled",id:"btn_profile",onClick:function(){var e=(0,n.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o()(t.target).hasClass("disabled")){e.next=2;break}return e.abrupt("return");case 2:return o()("#btn_profile_spinner").removeClass("d-none"),e.next=5,fetch("/api/updatehospitalprofile",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({profileData:Q,newProfileData:ae})}).then((function(e){return e.json()})).then((function(e){o()("#hospital_profile").find("input, select").map((function(e,t){o()(t).attr("disabled")||o()(t).attr("readonly")||o()(t).addClass("is-valid").removeClass("is-invalid")})),void 0!=e.errors?e.errors.map((function(e){o()("#hospital_"+e.split(".")[1].split(" ")[0]).addClass("is-invalid").removeClass("is-valid").next("small").text(e.split(".")[1].replace("_no","").replace("_"," "))})):e.updated&&(ee(ae),o()("#btn_profile").addClass("disabled"),(0,m.F)("Profile updated successfully!","primary",1800),o()("#hospital_profile").find("input, select").map((function(e,t){o()(t).removeClass("is-valid is-invalid")})))})).catch((function(e){return console.error(e)}));case 5:o()("#btn_profile_spinner").addClass("d-none");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[(0,j.jsx)("span",{className:"spinner-border spinner-border-sm d-none",id:"btn_profile_spinner"}),"\xa0Save Changes"]})]})]}),(0,j.jsxs)("fieldset",{className:"mt-5 bg-white shadow-sm rounded animate__animated animate__fadeIn",style:{animationDelay:"300ms"},children:[(0,j.jsx)("h5",{className:"card-header",children:"Description & Avatar"}),(0,j.jsx)("div",{className:"card-body",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsxs)("div",{className:"col mb-3 my-auto",children:[(0,j.jsx)("label",{className:"text-primary",style:{fontSize:"0.9rem"},htmlFor:"hospital_image",children:"Avatar $"}),(0,j.jsx)(c.default,{src:"/media/hospital-building-3.jpg",width:1280,height:780,id:"hospital_image",priority:!0}),(0,j.jsxs)("div",{className:"input-group",children:[(0,j.jsx)("input",{type:"file",className:"form-control",id:"hospital_image_source","data-parent":"hospital",name:"image_source",accept:"image/jpeg, image/png",onChange:function(e){var t;if(1==(null===(t=e.target.files)||void 0===t?void 0:t.length)){o()("#imageErr").text("");var a=e.target.files[0],n=new FileReader;n.readAsDataURL(a),n.onloadend=function(){n.result,o()("#hospital_image").attr("srcset",n.result)}}else o()("#imageErr").text("No image file chosen, default image will be displayed!"),o()("#hospital_image").attr("srcset",l.image_source),"default"}}),(0,j.jsx)("label",{className:"input-group-text",htmlFor:"hospital_image_source",children:"Upload"})]}),(0,j.jsx)("small",{className:"d-block text-danger ms-1 mt-1",id:"imageErr"})]}),(0,j.jsxs)("div",{className:"col m-auto",children:[(0,j.jsx)("label",{className:"text-primary",style:{fontSize:"0.9rem"},htmlFor:"hospital_description",children:"Description $"}),(0,j.jsx)("textarea",{className:"form-control",style:{fontSize:"0.85rem"},id:"hospital_description","data-parent":"hospital",name:"description",placeholder:"Provide a brief description of the hospital.",defaultValue:l.description,rows:7,autoComplete:"true",spellCheck:!0}),(0,j.jsx)("small",{className:"invalid-feedback"})]})]})}),(0,j.jsxs)("div",{className:"card-footer d-flex justify-content-end py-1",children:[(0,j.jsx)("div",{className:"text-info me-auto",children:(0,j.jsx)("small",{className:"me-2 mb-1",children:"$ - optional"})}),(0,j.jsxs)("button",{className:"btn btn-sm btn-primary disabled",id:"btn_description",onClick:function(){},children:[(0,j.jsx)("span",{className:"spinner-border spinner-border-sm d-none",id:"btn_description_spinner"}),"\xa0Save Changes"]})]})]}),(0,j.jsxs)("fieldset",{className:"mt-5 bg-white shadow-sm rounded",children:[(0,j.jsx)("h5",{className:"card-header",children:"Capacity"}),(0,j.jsx)("div",{className:"card-body",children:(0,j.jsx)("div",{className:"row row-cols-xl-6 row-cols-md-4 row-cols-2","data-parent":"capacity",id:"hospital_capacity",children:(0,j.jsx)(f.Z,{})})}),(0,j.jsxs)("div",{className:"card-footer d-flex justify-content-end py-1",children:[(0,j.jsx)("div",{className:"text-info me-auto pe-2",children:(0,j.jsxs)("small",{className:"me-2 mb-1 d-inline-block",children:["Total capacity:\xa0",(0,j.jsx)("span",{className:"fw-bolder",children:oe.total_capacity})]})}),(0,j.jsxs)("button",{className:"btn btn-sm btn-primary disabled",id:"btn_capacity",onClick:function(){var e=(0,n.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o()(t.target).hasClass("disabled")){e.next=2;break}return e.abrupt("return");case 2:return o()("#btn_capacity_spinner").removeClass("d-none"),e.next=5,fetch("/api/updatehospitalcapacity",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({capacity:ie,newCapacity:oe})}).then((function(e){return e.json()})).then((function(e){(0,m.F)("Hospital capacity updated successfully!","primary",1800),re(oe),o()(t.target).addClass("disabled")})).catch((function(e){return console.error(e)}));case 5:o()("#btn_capacity_spinner").addClass("d-none");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[(0,j.jsx)("span",{className:"spinner-border spinner-border-sm d-none",id:"btn_capacity_spinner"}),"\xa0Save Changes"]})]})]}),(0,j.jsxs)("fieldset",{className:"mt-5 bg-white shadow-sm rounded",children:[(0,j.jsx)("h5",{className:"card-header",children:"User"}),(0,j.jsxs)("div",{className:"card-body",children:[(0,j.jsxs)("div",{className:"row row-cols-1 row-cols-sm-2",id:"hospital_user",children:[(0,j.jsxs)("div",{className:"col mb-3",children:[(0,j.jsx)("label",{className:"text-primary",style:{fontSize:"0.9rem"},htmlFor:"staff_name",children:"Name *"}),(0,j.jsx)("input",{type:"text",className:"form-control",id:"staff_name","data-parent":"staff",name:"name",placeholder:"E.g.: Alice Milburn",defaultValue:l.user.name,onInput:function(e){return e.target.value=e.target.value.slice(0,50)},required:!0}),(0,j.jsx)("small",{className:"invalid-feedback"})]}),(0,j.jsxs)("div",{className:"col mb-3",children:[(0,j.jsx)("label",{className:"text-primary",style:{fontSize:"0.9rem"},htmlFor:"staff_email",children:"Email *"}),(0,j.jsx)("input",{type:"email",className:"form-control",id:"staff_email","data-parent":"staff",name:"email",placeholder:"E.g.: example@domain.com",defaultValue:l.user.email,onInput:function(e){return e.target.value=e.target.value.slice(0,50)},required:!0}),(0,j.jsx)("small",{className:"invalid-feedback"})]}),(0,j.jsxs)("div",{className:"col mb-3",children:[(0,j.jsx)("label",{className:"text-primary",style:{fontSize:"0.9rem"},htmlFor:"staff_mobile_no",children:"Mobile *"}),(0,j.jsx)("input",{type:"tel",className:"form-control",id:"staff_mobile_no","data-parent":"staff",name:"mobile_no",placeholder:"E.g.: 01*********",defaultValue:l.user.mobile_no,onInput:function(e){return e.target.value=e.target.value.slice(0,11)},required:!0}),(0,j.jsx)("small",{className:"invalid-feedback"})]}),(0,j.jsxs)("div",{className:"col mb-3",children:[(0,j.jsx)("label",{className:"text-primary",style:{fontSize:"0.9rem"},htmlFor:"staff_role",children:"Role"}),(0,j.jsx)("input",{type:"text",className:"form-control",id:"staff_role","data-parent":"staff",name:"role",defaultValue:l.user.role.replace("_"," "),disabled:!0,readOnly:!0}),(0,j.jsx)("small",{className:"invalid-feedback"})]})]}),me?(0,j.jsxs)("div",{className:"row row-cols-1 row-cols-sm-2 mb-1 animate__animated animate__fadeIn",children:[(0,j.jsxs)("div",{className:"col mb-3",children:[(0,j.jsxs)("label",{className:"text-primary",style:{fontSize:"0.9rem"},htmlFor:"staff_password",children:[(0,j.jsx)("i",{className:"bi bi-pencil-square"}),"\xa0Change Password"]}),(0,j.jsx)("input",{type:"password",className:"form-control",id:"staff_password","data-parent":"staff",name:"password",placeholder:"New password",onKeyDown:function(e){"Backspace"==e.code&&o()(e.target).trigger("input")},onInput:function(e){var t;if(e.target.value=e.target.value.slice(0,25),(null===(t=o()(e.target).val())||void 0===t?void 0:t.length)<4)return o()(e.target).addClass("is-invalid"),void o()("#staffPasswordErr").text("Password too short! Should be between 4 - 25 characters.");o()(e.target).removeClass("is-invalid"),o()("#staffPasswordErr").text("");o()(e.target).parent().next().children("input[type=password]").removeClass("is-valid is-invalid").val("")}})]}),(0,j.jsx)("div",{className:"col mt-auto mb-3",children:(0,j.jsx)("input",{type:"password",className:"form-control","data-parent":"staff",name:"password",placeholder:"Confirm new password",onInput:function(e){var t;e.target.value=e.target.value.slice(0,25);var a=o()(e.target).parent().prev().children("input[type=password]");""!=a.val()&&((null===(t=a.val())||void 0===t?void 0:t.length)<4||(a.val()!=e.target.value?(a.removeClass("is-valid"),o()(e.target).addClass("is-invalid"),o()("#staffPasswordErr").text("Passwords do not match!"),o()("#btn_save_password").addClass("disabled")):(a.addClass("is-valid"),o()(e.target).removeClass("is-invalid"),o()(e.target).addClass("is-valid"),o()("#staffPasswordErr").text(""),o()("#btn_save_password").removeClass("disabled"))))}})}),(0,j.jsx)("small",{className:"text-danger ms-1 mw-100",style:{flex:"none"},id:"staffPasswordErr"})]}):null,(0,j.jsx)("button",{className:"btn btn-sm btn-dark me-1",onClick:function(e){ue(!me)},children:"Change Password"}),me?(0,j.jsx)("button",{className:"btn btn-sm btn-info disabled animate__animated animate__fadeIn",id:"btn_save_password",onClick:function(){var e=(0,n.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o()(t.target).hasClass("disabled")){e.next=2;break}return e.abrupt("return");case 2:return y(!0),e.next=5,fetch("/api/updatehospitaluser",{method:"POST",headers:{"content-type":"application/json","x-action-update-password":"true"},body:JSON.stringify({newPassword:o()("#staff_password").val(),email:fe.email})}).then((function(e){return e.json()})).then((function(e){(0,m.F)("User password updated successfully!","primary",1800),ue(!1)})).catch((function(e){return console.error(e)}));case 5:y(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:"Save Password"}):null]}),(0,j.jsxs)("div",{className:"card-footer d-flex justify-content-end py-1",children:[(0,j.jsx)("div",{className:"text-info me-auto",children:(0,j.jsx)("small",{className:"me-2 mb-1",children:"* - required"})}),(0,j.jsxs)("button",{className:"btn btn-sm btn-primary disabled",id:"btn_user",onClick:function(){var e=(0,n.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o()(t.target).hasClass("disabled")){e.next=2;break}return e.abrupt("return");case 2:return o()("#btn_user_spinner").removeClass("d-none"),e.next=5,fetch("/api/updatehospitaluser",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({userData:fe,newUserData:ve})}).then((function(e){return e.json()})).then((function(e){o()("#hospital_user").find("input").map((function(e,t){o()(t).attr("disabled")||o()(t).attr("readonly")||o()(t).addClass("is-valid").removeClass("is-invalid")})),void 0!=e.errors?e.errors.map((function(e){o()("#staff_"+e.split(" ")[0]).addClass("is-invalid").removeClass("is-valid").next("small").text(e.replace("_no","").replace("_",""))})):e.updated&&(xe(ve),o()("#btn_user").addClass("disabled"),(0,m.F)("User updated successfully!","primary",1800),o()("#hospital_user").find("input").map((function(e,t){o()(t).removeClass("is-valid is-invalid")})))})).catch((function(e){return console.error(e)}));case 5:o()("#btn_user_spinner").addClass("d-none");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[(0,j.jsx)("span",{className:"spinner-border spinner-border-sm d-none",id:"btn_user_spinner"}),"\xa0Save Changes"]})]})]})]})})})})]})]})]})]})}},6226:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/dashboard",function(){return a(1953)}])},950:function(){},6601:function(){},9214:function(){},8623:function(){},7748:function(){},5568:function(){},6619:function(){},7108:function(){},2361:function(){},4616:function(){}},function(e){e.O(0,[790,675,322,835,774,888,179],(function(){return t=6226,e(e.s=t);var t}));var t=e.O();_N_E=t}]);