(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{4836:function(e,t,r){"use strict";r.r(t);var s=r(5861),n=r(7757),o=r.n(n),a=r(9008),i=r(1664),c=r(4598),l=r(9755),d=r.n(l),u=r(227),m=r(7294),p=r(1163),f=r(5893);t.default=function(){var e=(0,m.useContext)(u.S).setUserContext;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(a.default,{children:(0,f.jsx)("title",{children:"Login | Quick Hospitalization"})}),(0,f.jsxs)("div",{className:"card m-auto shadow-lg",style:{maxWidth:"330px"},children:[(0,f.jsx)("i",{className:"bi bi-person mx-auto mt-5 mb-2 h3 text-success"}),(0,f.jsx)("h6",{className:"mx-auto",children:"Login"}),(0,f.jsx)("div",{className:"card-body",children:(0,f.jsxs)("form",{className:"d-flex flex-column",onSubmit:function(e){e.preventDefault(),e.stopPropagation()},children:[(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{className:"text-secondary",htmlFor:"mobile",children:"Mobile *"}),(0,f.jsx)("input",{type:"tel",className:"form-control",style:{borderTopLeftRadius:0,borderBottomLeftRadius:0},placeholder:"E.g.: 01*********",onInput:function(e){return e.target.value=e.target.value.slice(0,11)},required:!0,id:"mobile"}),(0,f.jsx)("small",{id:"mobileErr",className:"form-text text-danger"})]}),(0,f.jsxs)("div",{className:"form-group mt-1",children:[(0,f.jsx)("label",{className:"text-secondary",htmlFor:"password",children:"Password *"}),(0,f.jsx)("input",{type:"password",className:"form-control",placeholder:"4 - 25 characters",onInput:function(e){return e.target.value=e.target.value.slice(0,25)},id:"password",required:!0}),(0,f.jsx)("small",{id:"passwordErr",className:"form-text text-danger ps-1"})]}),(0,f.jsx)("button",{type:"submit",className:"btn btn-sm btn-success mx-auto",onClick:function(){var t=(0,s.Z)(o().mark((function t(r){var s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s={mobile_no:d()("#mobile").val(),password:d()("#password").val()},t.next=3,fetch("/api/userlogin",{method:"POST",headers:new Headers({"content-type":"application/json"}),body:JSON.stringify({data:s}),redirect:"follow"}).then((function(e){return e.json()})).then((function(t){console.log(t);var r={mobile:!1,password:!1};void 0!=t.user?(d()("#mobileErr").text(t.user),r.mobile=!0):void 0!=t.pass?(d()("#passwordErr").text(t.password),r.password=!0):(console.log(t),e(t),p.default.query.redirect?p.default.replace(p.default.query.redirect):p.default.replace(c.Links.App.home)),Object.keys(r).map((function(e){0==r[e]&&d()("#"+e+"Err").text("")}))})).catch((function(e){console.error(e)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Login"}),(0,f.jsx)("small",{className:"text-secondary mt-2",children:"* - required"}),(0,f.jsx)("div",{className:"text-secondary mt-2 text-center",children:(0,f.jsxs)("small",{children:["Need an account?",(0,f.jsx)(i.default,{href:c.Links.App.signup,children:(0,f.jsx)("a",{className:"text-decoration-none fw-bold",children:"\xa0Sign Up\xa0"})}),(0,f.jsx)("strong",{children:"|"}),(0,f.jsx)(i.default,{href:c.Links.App.recover+"?account=user",children:(0,f.jsx)("a",{className:"text-decoration-none fw-bold",children:"\xa0Forgot Password?"})})]})})]})})]})]})}},7237:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return r(4836)}])},5861:function(e,t,r){"use strict";function s(e,t,r,s,n,o,a){try{var i=e[o](a),c=i.value}catch(l){return void r(l)}i.done?t(c):Promise.resolve(c).then(s,n)}function n(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){s(a,n,o,i,c,"next",e)}function c(e){s(a,n,o,i,c,"throw",e)}i(void 0)}))}}r.d(t,{Z:function(){return n}})}},function(e){e.O(0,[774,888,179],(function(){return t=7237,e(e.s=t);var t}));var t=e.O();_N_E=t}]);